---
title: Typecho ä¸æ˜¾ç¤º emoji è¡¨æƒ…çš„è§£å†³æ–¹æ¡ˆ
author: Mashiro
avatar: https://cdn.jsdelivr.net/gh/guohoo/blog-source@master/modules/avatar.jpg
authorLink: https://mashiro.nl
authorAbout: æ‡’äººï¼Œæ²¡æŠ€æœ¯ï¼Œè‡ªå­¦ä¸­......
authorDesc: Love Mashiro forever!
categories: æŠ€æœ¯
date: 2020-06-07 03:06:00
comments: true
tags: 
  - Typecho
  - Emoji
keywords: Emoji
description: è¿™å…¶å®æ˜¯ç¼–ç çš„é—®é¢˜
photos: https://cdn.jsdelivr.net/gh/guohoo/blog-source@master/background/article-cover/213951520701-1024x1024.jpg
---


å…¶å®ä¹‹å‰ä¸€ç›´æ²¡æœ‰å‘ç°è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå¹³æ—¶å°±ç®—æ’å…¥è¡¨æƒ…ä¹Ÿæ˜¯ç”¨è´´å›¾çš„æ–¹å¼ï¼Œå¾ˆå°‘ç”¨emojiã€‚ä½†æ˜¯å‰ä¸¤å¤©å‘å¸ƒä¸€ç¯‡æ–‡ç« åï¼Œçªç„¶å‘ç°æ–‡ç« çš„å†…å®¹ä¸è§äº†ä¸€åŠï¼Œå›åˆ°ç®¡ç†é¡µé¢ï¼Œé‡Œé¢ä¹Ÿæ˜¯åªå‰©ä¸‹å‰åŠæˆªæ–‡ç« ï¼ŒçœŸå°±å‡­ç©ºæ¶ˆå¤±äº†å‘—ï¼ğŸ˜‚ ~~(å½“æ—¶å¿«è¢«æ°”æ­»äº†)~~

ç„¶åçœ‹äº†ä¸€ä¸‹ä¸­æ–­çš„åœ°æ–¹ï¼Œæƒ³èµ·åé¢åº”è¯¥æ˜¯æ¥äº†ä¸€ä¸ªemojiè¡¨æƒ…ï¼Œåˆæ­¥æ€€ç–‘æ˜¯è¿™ä¸ªåŸå› ã€‚åé¢æ’°å†™äº†ä¸€ç¯‡å¸¦emojiè¡¨æƒ…çš„æ–‡ç« è¿›è¡Œæµ‹è¯•ï¼ŒæœçœŸå¦‚æ­¤ã€‚å°±æ˜¯ä¸€æ—¦ä½ ä¿å­˜äº†æ–‡ç« ï¼Œemojiåé¢çš„å†…å®¹éƒ½ä¼šæ¶ˆå¤±ã€‚

ä¸€å¼€å§‹è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼Œå¦‚åµŒä¸ªpæ ‡ç­¾è¿›å»ï¼›ä½¿ç”¨è½¬ä¹‰å­—ç¬¦......ä½†é€šé€šéƒ½å¤±è´¥äº†ã€‚åæ¥ä¸Šç½‘æŸ¥æ‰¾èµ„æ–™ï¼Œæ‰¾åˆ°äº†ä¸€ç¯‡çœŸæ­£é è°±çš„[è§£å†³æ–¹æ¡ˆ][1]ã€‚

## é—®é¢˜åŸå›  ##
å› ä¸ºä¹‹å‰çš„æ•°æ®è¡¨ç”¨çš„éƒ½æ˜¯ `UTF-8` çš„ç¼–ç æ–¹å¼ï¼Œä½†åœ¨ `MySQL` ä¸­ï¼Œ`UTF-8` æœ€å¤šåªæ”¯æŒ3ä¸ªå­—èŠ‚ï¼Œè€Œemojiæ˜¯4ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥å°±...... 
ä½†æ˜¯æˆ‘æƒ³èµ·Wordpressçš„ç«™ç‚¹æ²¡å‡ºè¿‡è¿™ç§é—®é¢˜å•Šï¼Œæ‰€ä»¥æˆ‘ç‰¹æ„æŸ¥äº†ä¸€ä¸‹å®ƒçš„æ•°æ®è¡¨ç¼–ç æ–¹å¼ï¼Œå‘ç°å±…ç„¶æ˜¯ `utf8mb4`ã€‚å—¯ï¼Œå¹ä¸€æ³¢Wordpresså¤§æ³•å¥½ã€‚

## è§£å†³æ–¹æ³• ##
### 1.æ›´æ”¹æ•°æ®è¡¨ç¼–ç æ–¹å¼ ###

> è¯·è®°å¾—ä¸€å®šè¦å…ˆå¤‡ä»½æ•°æ®åº“ï¼Œè™½ç„¶æˆ‘å¯ä»¥ä¿è¯æŒ‰æˆ‘è¯´çš„åšä¸€å®šä¸ä¼šæŸåä½ çš„æ•°æ®ï¼Œä½†æ¯•ç«Ÿæ•°æ®æ— ä»·

é¦–å…ˆç™»å½•åˆ°Typechoçš„æ•°æ®åº“
```mysql
mysql -u root -p password #è¿æ¥æ•°æ®åº“å‘½ä»¤
use <typechoæ•°æ®åº“å>; #é€‰æ‹©ä½ çš„ Typecho æ•°æ®åº“
```
ç„¶åæŠŠä¸‹åˆ—æ•°æ®è¡¨çš„ç¼–ç æ–¹å¼æ”¹ä¸º `utf8mb4`
```mysql
alter table typecho_comments convert to character set utf8mb4 collate utf8mb4_unicode_ci;
alter table typecho_contents convert to character set utf8mb4 collate utf8mb4_unicode_ci;
alter table typecho_fields convert to character set utf8mb4 collate utf8mb4_unicode_ci;
alter table typecho_metas convert to character set utf8mb4 collate utf8mb4_unicode_ci;
alter table typecho_options convert to character set utf8mb4 collate utf8mb4_unicode_ci;
alter table typecho_relationships convert to character set utf8mb4 collate utf8mb4_unicode_ci;
alter table typecho_users convert to character set utf8mb4 collate utf8mb4_unicode_ci;
```
æ”¹å®Œåç”¨ `show create table <è¡¨å>;` å‘½ä»¤ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ  
**è¯·å¤§èƒ†æ”¾å¿ƒåœ°ä¿®æ”¹ï¼Œå› ä¸ºutf8mb4æ˜¯å…¼å®¹UTF-8çš„ï¼Œä¸ä¼šå½±å“ç°æœ‰æ•°æ®**

### 2.æ›´æ”¹ Typecho é…ç½®æ–‡ä»¶ ###
ä½ç½®å°±åœ¨ä½ Typechoçš„å®‰è£…ç›®å½•é‡Œ(ä¸¾ä¾‹ï¼š`/home/wwwroot/ä½ çš„ç½‘ç«™æ ¹ç›®å½•/config.inc.php`)  
æŠŠæ•°æ®åº“å®šä¹‰å‚æ•°ä¸­ `charset` çš„å€¼æ”¹ä¸º `utf8mb4`
```php
$db->addServer(array (
    'host'      =>  localhost,
    'user'      =>  'me',
    'password'  =>  'my_password',
    'charset'   =>  'utf8mb4',        #ä¿®æ”¹è¿™ä¸€è¡Œ
    'port'      =>  3306,
    'database'  =>  'è›¤ï¼Ÿ'
), Typecho_Db::READ | Typecho_Db::WRITE);
```
ç„¶åä¿å­˜æ›´æ”¹ï¼Œå°±å¯ä»¥æ„‰å¿«åœ°ç©è€å•¦ï¼
æœ€åç‹—å¤´é•‡æ¥¼ğŸ¶ ğŸ¶ ğŸ¶

  [1]: https://get233.com/archives/show-emoji-in-typecho.html
